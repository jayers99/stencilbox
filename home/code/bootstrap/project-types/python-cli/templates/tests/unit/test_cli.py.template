#!/usr/bin/env python3
"""Unit tests for CLI module."""

import pytest

from {{PROJECT_NAME}}.cli import create_parser, file_info


class TestFileInfo:
    """Tests for file_info function."""

    def test_returns_dict(self) -> None:
        """file_info returns a dictionary."""
        info = file_info()
        assert isinstance(info, dict)

    def test_contains_name(self) -> None:
        """file_info contains module name."""
        info = file_info()
        assert info["name"] == "cli"


class TestCreateParser:
    """Tests for argument parser."""

    def test_parser_creation(self) -> None:
        """Parser is created successfully."""
        parser = create_parser()
        assert parser is not None

    def test_version_flag(self) -> None:
        """--version flag exits with code 0."""
        parser = create_parser()
        with pytest.raises(SystemExit) as exc_info:
            parser.parse_args(["--version"])
        assert exc_info.value.code == 0

    def test_verbose_flag(self) -> None:
        """--verbose flag is parsed correctly."""
        parser = create_parser()
        args = parser.parse_args(["--verbose"])
        assert args.verbose is True

    def test_dry_run_flag(self) -> None:
        """--dry-run flag is parsed correctly."""
        parser = create_parser()
        args = parser.parse_args(["--dry-run"])
        assert args.dry_run is True

    def test_default_flags_are_false(self) -> None:
        """Default flag values are False."""
        parser = create_parser()
        args = parser.parse_args([])
        assert args.verbose is False
        assert args.dry_run is False
